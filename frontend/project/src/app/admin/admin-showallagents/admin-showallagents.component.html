<div class="container">
  <h1 class="page-title">AGENT MANAGEMENT</h1>

  <!-- Search input -->
  <div class="search-container">
    <input type="text" placeholder="Search agents..." (keyup)="searchAgents($event)" class="search-input"/>
  </div>

  <!-- Agents table -->
  <div class="table-container">
    <table class="table table-striped table-dark">
      <thead>
        <tr>
          <th scope="col">Sl No</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
          <th scope="col">Category</th>
          <th scope="col">Verify</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let agent of agents; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ agent.firstName }}</td>
          <td>{{ agent.lastName }}</td>
          <td>{{ agent.email }}</td>
          <td>{{ agent.category }}</td>
          <td>
            <button *ngIf="!agent.is_verified" class="btn btn-danger" (click)="verify(agent)">Not Approved</button>
            <button *ngIf="agent.is_verified" class="btn btn-success" [disabled]="agent.is_verified">Approved</button>
          </td>
          <td>
            <button *ngIf="!agent.is_blocked" class="btn btn-success" (click)="block(agent)">Block</button>
            <button *ngIf="agent.is_blocked" class="btn btn-danger" (click)="block(agent)">Unblock</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Paginator -->
  <div class="paginator-container">
    <p-paginator [rows]="5" [totalRecords]="10" (onPageChange)="paginate($event)"></p-paginator>
  </div>
</div>

<app-admin-footer></app-admin-footer>
<app-revenue-management [hidden]="true" ></app-revenue-management>
